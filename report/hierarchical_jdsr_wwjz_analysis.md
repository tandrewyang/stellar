# Hierarchical Architecture在JDSR和WWJZ上学习速度加快的原因

## 一、数据对比

### JDSR (借刀杀人)
- **Hierarchical Architecture**: 9.55%进度达到50%胜率
- **Baseline (dTAPE)**: 12.56%进度达到50%胜率
- **学习速度提升**: 1.32x

### WWJZ (围魏救赵)
- **Hierarchical Architecture**: 35.47%进度达到50%胜率
- **Baseline (dTAPE)**: 41.71%进度达到50%胜率
- **学习速度提升**: 1.18x

## 二、核心原因分析

### 2.1 地图特点与分层架构的匹配

**JDSR (借刀杀人)**:
- **战术要求**: 需要利用敌人或第三方力量，需要战略层面的目标选择
- **决策复杂度**: 需要先选择"利用谁"（高层决策），再决定"如何利用"（底层执行）

**WWJZ (围魏救赵)**:
- **战术要求**: 需要围攻敌人以解围，需要明确的战略目标（围攻哪个目标）
- **决策复杂度**: 需要先选择"围攻目标"（高层决策），再决定"如何围攻"（底层执行）

### 2.2 分层架构的优势

**1. 决策空间分解**
- **Baseline**: 需要同时学习"做什么"和"怎么做"，决策空间大
- **Hierarchical**: 将决策分解为两层
  - 高层：专注于"做什么"（目标选择、战术类型）
  - 底层：专注于"怎么做"（具体动作执行）
- **效果**: 每层的决策空间更小，学习更快

**2. 战略-战术分离**
- **Baseline**: 所有决策在同一层次，难以区分战略和战术
- **Hierarchical**: 
  - 高层网络学习战略（目标选择、战术决策）
  - 底层网络学习战术（基于战略的具体执行）
- **效果**: 战略决策更稳定，战术执行更精确

**3. 模块化学习**
- **Baseline**: 需要同时优化所有决策
- **Hierarchical**: 
  - 高层和底层可以相对独立地学习和优化
  - 一旦高层学会了正确的目标选择，底层可以快速学习对应的执行策略
- **效果**: 学习过程更稳定，收敛更快

### 2.3 为什么在JDSR和WWJZ上特别有效

**JDSR的特点**:
- 需要战略层面的"借刀"决策（选择利用哪个敌人/第三方）
- 一旦确定了战略目标，战术执行相对直接
- **分层架构优势**: 高层快速学会目标选择，底层快速学会执行

**WWJZ的特点**:
- 需要明确的围攻目标选择（战略决策）
- 围攻的具体执行需要多智能体协调（战术执行）
- **分层架构优势**: 高层确定围攻目标后，底层可以专注于协调执行

## 三、简要总结

**核心原因**:
1. **决策分解**: 将复杂的"战略+战术"决策分解为两层，每层决策空间更小
2. **战略优先**: 高层网络先学会战略目标选择，为底层提供明确指导
3. **模块化学习**: 战略和战术相对独立学习，避免相互干扰
4. **任务匹配**: JDSR和WWJZ都需要明确的战略目标选择，与分层架构天然匹配

**结果**: Hierarchical Architecture在这两个地图上学习速度提升1.18-1.32倍，更快达到50%胜率。

